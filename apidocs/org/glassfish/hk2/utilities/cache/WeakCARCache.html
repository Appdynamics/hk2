<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 14 09:09:16 PDT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WeakCARCache (HK2 API Documentation)</title>
<meta name="date" content="2017-06-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WeakCARCache (HK2 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WeakCARCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glassfish/hk2/utilities/cache/LRUHybridCache.CycleHandler.html" title="interface in org.glassfish.hk2.utilities.cache"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glassfish/hk2/utilities/cache/WeakCARCache.html" target="_top">Frames</a></li>
<li><a href="WeakCARCache.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.glassfish.hk2.utilities.cache</div>
<h2 title="Interface WeakCARCache" class="title">Interface WeakCARCache&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/glassfish/hk2/utilities/cache/internal/WeakCARCacheImpl.html" title="class in org.glassfish.hk2.utilities.cache.internal">WeakCARCacheImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">WeakCARCache&lt;K,V&gt;</span></pre>
<div class="block">A cache that uses the CAR algorithm to remove entries.
 <p>
 As a quick review, the CAR algorithm maintains four lists:<OL>
 <LI>t1 - A clock of recently used keys with values</LI>
 <LI>t2 - A clock of frequently used keys with values</LI>
 <LI>b1 - A LRU of keys removed from t1 with no values</LI>
 <LI>b2 - A LRU of keys removed from t2 with no values</LI>
 </OL>
 The sum of entries in t1 and t2 will never be higher than maxSize (c).
 The sum of entries in all four lists will never be higher than 2c.
 There is an adaptive parameter p which is the target size of the
 t1 list which gets modified when a key is found on either the b1 or
 b2 list.  This adaptive parameter essentially allows the algorithm
 to adapt to the pattern of keys, whether there be more frequently used
 keys or there be a pattern of keys used quickly but not again.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>jwells</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#clear()">clear</a></strong>()</code>
<div class="block">Clears the current cache, making the current size zero</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#clearStaleReferences()">clearStaleReferences</a></strong>()</code>
<div class="block">Causes stale references to be cleared from the data
 structures.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">V</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#compute(K)">compute</a></strong>(<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>&nbsp;key)</code>
<div class="block">The method used to get or add values to this cache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#dumpAllLists()">dumpAllLists</a></strong>()</code>
<div class="block">Returns a string that will contain all the elements of the four lists</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getB1Size()">getB1Size</a></strong>()</code>
<div class="block">Returns the number of items in the B1 LRU</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getB2Size()">getB2Size</a></strong>()</code>
<div class="block">Returns the number of items in the B2 LRU</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/glassfish/hk2/utilities/cache/Computable.html" title="interface in org.glassfish.hk2.utilities.cache">Computable</a>&lt;<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>,<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getComputable()">getComputable</a></strong>()</code>
<div class="block">The computable associated with this cache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getHitRate()">getHitRate</a></strong>()</code>
<div class="block">Returns the hit rate from the last time clear was called</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getKeySize()">getKeySize</a></strong>()</code>
<div class="block">Returns the current number of keys in the cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getMaxSize()">getMaxSize</a></strong>()</code>
<div class="block">Gets the current maximum size of the cache (the maximum
 number of values that will be kept by the cache).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getP()">getP</a></strong>()</code>
<div class="block">Returns the value of p from the CAR algorithm, which
 is the target size of the t1 clock</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getT1Size()">getT1Size</a></strong>()</code>
<div class="block">Returns the number of items in the T1 clock</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getT2Size()">getT2Size</a></strong>()</code>
<div class="block">Returns the number of items in the T2 clock</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#getValueSize()">getValueSize</a></strong>()</code>
<div class="block">Returns the current number of values in the cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#releaseMatching(org.glassfish.hk2.utilities.cache.CacheKeyFilter)">releaseMatching</a></strong>(<a href="../../../../../org/glassfish/hk2/utilities/cache/CacheKeyFilter.html" title="interface in org.glassfish.hk2.utilities.cache">CacheKeyFilter</a>&lt;<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>&gt;&nbsp;filter)</code>
<div class="block">Releases all key/value pairs that match the filter</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html#remove(K)">remove</a></strong>(<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>&nbsp;key)</code>
<div class="block">Used to remove a single key and value from the cache (if
 the value is available)</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="compute(java.lang.Object)">
<!--   -->
</a><a name="compute(K)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre><a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">V</a>&nbsp;compute(<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>&nbsp;key)</pre>
<div class="block">The method used to get or add values to this cache</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key to add to the cache.  If the value
 is not found, then the computable will be called to
 get the value.  May not be null</dd>
<dt><span class="strong">Returns:</span></dt><dd>The calculated return value.  May not be null</dd></dl>
</li>
</ul>
<a name="getKeySize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeySize</h4>
<pre>int&nbsp;getKeySize()</pre>
<div class="block">Returns the current number of keys in the cache.  Note
 that the number of keys can be up to 2x the maximum size
 of the cache</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current number of key entries in the cache</dd></dl>
</li>
</ul>
<a name="getValueSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValueSize</h4>
<pre>int&nbsp;getValueSize()</pre>
<div class="block">Returns the current number of values in the cache.  Note
 that the number of values can be up the maximum size
 of the cache</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current number of value entries in the cache</dd></dl>
</li>
</ul>
<a name="getT1Size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getT1Size</h4>
<pre>int&nbsp;getT1Size()</pre>
<div class="block">Returns the number of items in the T1 clock</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current number of items in the T1 clock</dd></dl>
</li>
</ul>
<a name="getT2Size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getT2Size</h4>
<pre>int&nbsp;getT2Size()</pre>
<div class="block">Returns the number of items in the T2 clock</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current number of items in the T2 clock</dd></dl>
</li>
</ul>
<a name="getB1Size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getB1Size</h4>
<pre>int&nbsp;getB1Size()</pre>
<div class="block">Returns the number of items in the B1 LRU</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current number of items in the B1 LRU</dd></dl>
</li>
</ul>
<a name="getB2Size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getB2Size</h4>
<pre>int&nbsp;getB2Size()</pre>
<div class="block">Returns the number of items in the B2 LRU</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current number of items in the B2 LRU</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">Clears the current cache, making the current size zero</div>
</li>
</ul>
<a name="getMaxSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxSize</h4>
<pre>int&nbsp;getMaxSize()</pre>
<div class="block">Gets the current maximum size of the cache (the maximum
 number of values that will be kept by the cache).  Note
 that the number of keys kept will be 2x, where x is the
 maximum size of the cache (see CAR algorithm which keeps
 a key history)</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The maximum size of the cache</dd></dl>
</li>
</ul>
<a name="getComputable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getComputable</h4>
<pre><a href="../../../../../org/glassfish/hk2/utilities/cache/Computable.html" title="interface in org.glassfish.hk2.utilities.cache">Computable</a>&lt;<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>,<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">V</a>&gt;&nbsp;getComputable()</pre>
<div class="block">The computable associated with this cache</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The computable associated with this cache</dd></dl>
</li>
</ul>
<a name="remove(java.lang.Object)">
<!--   -->
</a><a name="remove(K)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>boolean&nbsp;remove(<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>&nbsp;key)</pre>
<div class="block">Used to remove a single key and value from the cache (if
 the value is available)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key to remove. May not be null</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if a key was found and removed</dd></dl>
</li>
</ul>
<a name="releaseMatching(org.glassfish.hk2.utilities.cache.CacheKeyFilter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseMatching</h4>
<pre>void&nbsp;releaseMatching(<a href="../../../../../org/glassfish/hk2/utilities/cache/CacheKeyFilter.html" title="interface in org.glassfish.hk2.utilities.cache">CacheKeyFilter</a>&lt;<a href="../../../../../org/glassfish/hk2/utilities/cache/WeakCARCache.html" title="type parameter in WeakCARCache">K</a>&gt;&nbsp;filter)</pre>
<div class="block">Releases all key/value pairs that match the filter</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filter</code> - A non-null filter that can be used
 to delete every key/value pair that matches the filter</dd></dl>
</li>
</ul>
<a name="clearStaleReferences()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearStaleReferences</h4>
<pre>void&nbsp;clearStaleReferences()</pre>
<div class="block">Causes stale references to be cleared from the data
 structures.  Since this is a weak cache the references
 can go away at any time, which happens whenever
 any operation has been performed.  However, it may be
 the case that no operation will be performed for a while
 and so this method is provided to have a no-op operation
 to call in order to clear out any stale references</div>
</li>
</ul>
<a name="getP()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getP</h4>
<pre>int&nbsp;getP()</pre>
<div class="block">Returns the value of p from the CAR algorithm, which
 is the target size of the t1 clock</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current value of P</dd></dl>
</li>
</ul>
<a name="dumpAllLists()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpAllLists</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dumpAllLists()</pre>
<div class="block">Returns a string that will contain all the elements of the four lists</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A String containing the values of T1, T2, B1 and B2</dd></dl>
</li>
</ul>
<a name="getHitRate()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getHitRate</h4>
<pre>double&nbsp;getHitRate()</pre>
<div class="block">Returns the hit rate from the last time clear was called</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The Hit rate from the last time clear was called 
 or 0 if there is no data</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WeakCARCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glassfish/hk2/utilities/cache/LRUHybridCache.CycleHandler.html" title="interface in org.glassfish.hk2.utilities.cache"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glassfish/hk2/utilities/cache/WeakCARCache.html" target="_top">Frames</a></li>
<li><a href="WeakCARCache.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2009-2017,     <a href="http://www.oracle.com">Oracle</a>     and/or its affiliates. All Rights Reserved.</small></p>
</body>
</html>
